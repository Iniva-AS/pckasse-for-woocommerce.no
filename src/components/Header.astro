---
interface Props {
	currentPath: string;
}

const { currentPath = '' } = Astro.props;

const navItems = [
	{ href: "/", label: "Hjem" },
	{ href: "/kom-i-gang", label: "Kom i gang" },
	{ href: "/docs", label: "Dokumentasjon" },
	{ href: "/partnere", label: "Partnere" },
	{ href: "/blogg", label: "Blogg" },
];
---

<header class="absolute inset-x-0 top-0 z-50">
	<nav class="mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8" aria-label="Global">
		<div class="flex lg:flex-1 items-center gap-x-3">
			<a href="https://iniva.no" class="-m-1.5 p-1.5" target="_blank" rel="noopener noreferrer">
				<img src="/iniva-logo.png" alt="Iniva" class="h-8" />
			</a>
			<span class="text-gray-400">/</span>
			<a href="/" class="-m-1.5 p-1.5">
				<span class="text-xl font-bold text-gray-900">Quick3 for WooCommerce</span>
			</a>
		</div>
		<div class="flex lg:hidden">
			<button
				type="button"
				id="mobile-menu-button"
				class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700"
			>
				<span class="sr-only">Open main menu</span>
				<svg class="size-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
					<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
				</svg>
			</button>
		</div>
		<div class="hidden lg:flex lg:gap-x-8 lg:items-center">
			{navItems.map((item) => (
				<a
					href={item.href}
					class="text-sm/6 font-semibold text-gray-900"
					target={item.external ? '_blank' : undefined}
					rel={item.external ? 'noopener noreferrer' : undefined}
				>
					{item.label}
				</a>
			))}
		</div>
	</nav>

	<!-- Mobile menu -->
	<div id="mobile-menu" class="lg:hidden hidden">
		<div class="fixed inset-0 z-50"></div>
		<div class="fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-white p-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10">
			<div class="flex items-center justify-between">
				<div class="flex items-center gap-x-2">
					<a href="https://iniva.no" class="-m-1.5 p-1.5" target="_blank" rel="noopener noreferrer">
						<img src="/iniva-logo.png" alt="Iniva" class="h-6" />
					</a>
					<span class="text-gray-400 text-sm">/</span>
					<a href="/" class="-m-1.5 p-1.5">
						<span class="text-base font-bold text-gray-900">Quick3</span>
					</a>
				</div>
				<button
					type="button"
					id="mobile-menu-close"
					class="-m-2.5 rounded-md p-2.5 text-gray-700"
				>
					<span class="sr-only">Close menu</span>
					<svg class="size-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
						<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
					</svg>
				</button>
			</div>
			<div class="mt-6 flow-root">
				<div class="-my-6 divide-y divide-gray-500/10">
					<div class="space-y-2 py-6">
						{navItems.map((item) => (
							<a
								href={item.href}
								class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50"
								target={item.external ? '_blank' : undefined}
								rel={item.external ? 'noopener noreferrer' : undefined}
							>
								{item.label}
							</a>
						))}
					</div>
				</div>
			</div>
		</div>
	</div>
</header>

<script>
	// Mobile menu
	const mobileMenuButton = document.getElementById('mobile-menu-button');
	const mobileMenu = document.getElementById('mobile-menu');
	const mobileMenuClose = document.getElementById('mobile-menu-close');

	mobileMenuButton?.addEventListener('click', () => {
		mobileMenu?.classList.remove('hidden');
	});

	mobileMenuClose?.addEventListener('click', () => {
		mobileMenu?.classList.add('hidden');
	});
</script>
