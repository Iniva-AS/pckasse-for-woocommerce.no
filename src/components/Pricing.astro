---
const tiers = [
	{
		name: "Business",
		id: 'tier-business',
		href: 'https://checkout.freemius.com/plugin/20957/plan/34944/licenses/1/',
		price: '$149.99',
		priceDetail: '/m√•ned',
		description: "For voksende bedrifter med aktiv produktstyring og support.",
		features: [
			"10 000 produkter",
			"Produktsynkronisering hvert 30. minutt",
			"30 dagers loggbevaring",
			"E-post support",
			"Prioritert behandling"
		],
		cta: "Kom i gang i dag",
	},
	{
		name: "Enterprise",
		id: 'tier-enterprise',
		href: 'https://checkout.freemius.com/plugin/20957/plan/34945/licenses/1/',
		price: '$449',
		priceDetail: '/m√•ned',
		description: "Premium l√∏sning med ubegrenset kapasitet, raskest mulig synkronisering og prioritert support.",
		features: [
			"Ubegrenset antall produkter",
			"Produktsynkronisering hvert 15. minutt",
			"Ubegrenset loggbevaring",
			"Prioritert e-post support",
			"Dedikert support",
			"Tilpasset implementering"
		],
		cta: "Kom i gang i dag",
	},
];
---

<div class="isolate overflow-hidden bg-gray-900">
	<div class="mx-auto max-w-7xl px-6 pt-24 pb-96 text-center sm:pt-32 lg:px-8">
		<div class="mx-auto max-w-4xl">
			<h2 class="text-base/7 font-semibold text-indigo-400">Priser</h2>
			<p class="mt-2 text-5xl font-semibold tracking-tight text-balance text-white sm:text-6xl">
				Velg riktig plan for deg
			</p>
		</div>
		<div class="relative mt-6">
			<p class="mx-auto max-w-2xl text-lg font-medium text-pretty text-gray-400 sm:text-xl/8">
				Velg en prisplan som passer dine behov. Alle planer inkluderer automatisk synkronisering og p√•litelig bakgrunnsprosessering.
			</p>
			<svg viewBox="0 0 1208 1024" class="absolute -top-10 left-1/2 -z-10 h-256 -translate-x-1/2 mask-[radial-gradient(closest-side,white,transparent)] sm:-top-12 md:-top-20 lg:-top-12 xl:top-0">
				<ellipse cx="604" cy="512" rx="604" ry="512" fill="url(#6d1bd035-0dd1-437e-93fa-59d316231eb0)" />
				<defs>
					<radialGradient id="6d1bd035-0dd1-437e-93fa-59d316231eb0">
						<stop stop-color="#7775D6" />
						<stop offset="1" stop-color="#E935C1" />
					</radialGradient>
				</defs>
			</svg>
		</div>
	</div>
	<div class="flow-root bg-white pb-24 sm:pb-32">
		<div class="-mt-80">
			<div class="mx-auto max-w-7xl px-6 lg:px-8">
				<div class="mx-auto grid max-w-md grid-cols-1 gap-8 lg:max-w-4xl lg:grid-cols-2">
					<!-- Business Tier -->
					<div class="flex flex-col justify-between rounded-3xl bg-white p-8 shadow-xl outline-1 outline-gray-900/10 sm:p-10">
						<div>
							<h3 id={tiers[0].id} class="text-base/7 font-semibold text-indigo-600">{tiers[0].name}</h3>
							<div class="mt-4 flex items-baseline gap-x-2">
								<span class="text-5xl font-semibold tracking-tight text-gray-900">{tiers[0].price}</span>
								<span class="text-base/7 font-semibold text-gray-600">{tiers[0].priceDetail}</span>
							</div>
							<p class="mt-6 text-base/7 text-gray-600">{tiers[0].description}</p>
							<ul role="list" class="mt-10 space-y-4 text-sm/6 text-gray-600">
								{tiers[0].features.map((feature) => (
									<li class="flex gap-x-3">
										<svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="h-6 w-5 flex-none text-indigo-600">
											<path d="M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z" clip-rule="evenodd" fill-rule="evenodd" />
										</svg>
										{feature}
									</li>
								))}
							</ul>
						</div>
						<a
							href={tiers[0].href}
							aria-describedby={tiers[0].id}
							data-tier-name={tiers[0].name}
							data-tier-id={tiers[0].id}
							data-tier-price={tiers[0].price}
							class="tier-cta-link mt-8 block rounded-md bg-indigo-600 px-3.5 py-2 text-center text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
						>
							{tiers[0].cta}
						</a>
					</div>

					<!-- Enterprise Tier -->
					<div class="flex flex-col justify-between rounded-3xl bg-white p-8 shadow-xl outline-1 outline-gray-900/10 sm:p-10">
						<div>
							<h3 id={tiers[1].id} class="text-base/7 font-semibold text-indigo-600">{tiers[1].name}</h3>
							<div class="mt-4 flex items-baseline gap-x-2">
								<span class="text-5xl font-semibold tracking-tight text-gray-900">{tiers[1].price}</span>
								<span class="text-base/7 font-semibold text-gray-600">{tiers[1].priceDetail}</span>
							</div>
							<p class="mt-6 text-base/7 text-gray-600">{tiers[1].description}</p>
							<ul role="list" class="mt-10 space-y-4 text-sm/6 text-gray-600">
								{tiers[1].features.map((feature) => (
									<li class="flex gap-x-3">
										<svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="h-6 w-5 flex-none text-indigo-600">
											<path d="M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z" clip-rule="evenodd" fill-rule="evenodd" />
										</svg>
										{feature}
									</li>
								))}
							</ul>
						</div>
						<a
							href={tiers[1].href}
							aria-describedby={tiers[1].id}
							data-tier-name={tiers[1].name}
							data-tier-id={tiers[1].id}
							data-tier-price={tiers[1].price}
							class="tier-cta-link mt-8 block rounded-md bg-indigo-600 px-3.5 py-2 text-center text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
						>
							{tiers[1].cta}
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
		// CONVERSION TRACKING: Plan Click Events
		// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
		const tierLinks = document.querySelectorAll('.tier-cta-link');

		tierLinks.forEach((link) => {
			link.addEventListener('click', (e) => {
				const target = e.currentTarget as HTMLAnchorElement;

				// Extract tier data from data attributes
				const tierName = target.dataset.tierName || 'Unknown';
				const tierId = target.dataset.tierId || 'unknown';
				const tierPrice = target.dataset.tierPrice || '0';
				const checkoutUrl = target.href;

				// Push event to dataLayer for GTM
				window.dataLayer = window.dataLayer || [];
				window.dataLayer.push({
					'event': 'plan_click',
					'plan_name': tierName,
					'plan_id': tierId,
					'plan_price': tierPrice,
					'checkout_url': checkoutUrl,
					'event_category': 'Pricing',
					'event_action': 'Plan Click',
					'event_label': tierName
				});

				// Log to console for debugging (remove in production if desired)
				console.log('üéØ Plan Click Tracked:', {
					tierName,
					tierPrice,
					checkoutUrl
				});

				// Note: Link will proceed normally (no e.preventDefault())
			});
		});
	});
</script>
